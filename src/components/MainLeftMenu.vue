<script setup lang="ts">
import {ref} from "vue";
import {usePlayStore} from '@/store/play-store.ts'

const playStore = usePlayStore()
const creates = ref([
  {
    songlistId: "LIST-188F3265-75A9-0308-1082-BE570358BA3A",
    songlistName: "只此一生",
    songlistInfo: "信仰到底是什么呢，就是纵身一跃，就是我们跟神之间一个永远的约定，是舍弃旧的去开始新的生活;信仰就是从今以后，再也不要放开你的手",
    songlistStyle: "",
    songlistPic: "/Resource/image/songListImg/002_1642492685853.jfif",
    userId: "USER-432C2877-9106-4C3D-951E-7EBC0AC0234C",
    block: "create@love@collect"
  }
])
const collects = ref([
  {
    songlistId: "LIST-188F3265-75A9-0308-1082-BE570358BA2A",
    songlistName: "何必从众",
    songlistInfo: "信仰到底是什么呢，就是纵身一跃，就是我们跟神之间一个永远的约定，是舍弃旧的去开始新的生活;信仰就是从今以后，再也不要放开你的手",
    songlistStyle: "",
    songlistPic: "/Resource/image/songListImg/002_1642492685853.jfif",
    userId: "USER-432C2877-9106-4C3D-951E-7EBC0AC0234C",
    block: "create@love@collect"
  },
  {
    songlistId: "LIST-188F3265-75A9-0308-1082-BE570358BA2A",
    songlistName: "何必从众",
    songlistInfo: "信仰到底是什么呢，就是纵身一跃，就是我们跟神之间一个永远的约定，是舍弃旧的去开始新的生活;信仰就是从今以后，再也不要放开你的手",
    songlistStyle: "",
    songlistPic: "/Resource/image/songListImg/002_1642492685853.jfif",
    userId: "USER-432C2877-9106-4C3D-951E-7EBC0AC0234C",
    block: "create@love@collect"
  },
  {
    songlistId: "LIST-188F3265-75A9-0308-1082-BE570358BA2A",
    songlistName: "何必从众",
    songlistInfo: "信仰到底是什么呢，就是纵身一跃，就是我们跟神之间一个永远的约定，是舍弃旧的去开始新的生活;信仰就是从今以后，再也不要放开你的手",
    songlistStyle: "",
    songlistPic: "/Resource/image/songListImg/002_1642492685853.jfif",
    userId: "USER-432C2877-9106-4C3D-951E-7EBC0AC0234C",
    block: "create@love@collect"
  },
  {
    songlistId: "LIST-188F3265-75A9-0308-1082-BE570358BA2A",
    songlistName: "何必从众",
    songlistInfo: "信仰到底是什么呢，就是纵身一跃，就是我们跟神之间一个永远的约定，是舍弃旧的去开始新的生活;信仰就是从今以后，再也不要放开你的手",
    songlistStyle: "",
    songlistPic: "/Resource/image/songListImg/002_1642492685853.jfif",
    userId: "USER-432C2877-9106-4C3D-951E-7EBC0AC0234C",
    block: "create@love@collect"
  },
  {
    songlistId: "LIST-188F3265-75A9-0308-1082-BE570358BA2A",
    songlistName: "何必从众",
    songlistInfo: "信仰到底是什么呢，就是纵身一跃，就是我们跟神之间一个永远的约定，是舍弃旧的去开始新的生活;信仰就是从今以后，再也不要放开你的手",
    songlistStyle: "",
    songlistPic: "/Resource/image/songListImg/002_1642492685853.jfif",
    userId: "USER-432C2877-9106-4C3D-951E-7EBC0AC0234C",
    block: "create@love@collect"
  },
  {
    songlistId: "LIST-188F3265-75A9-0308-1082-BE570358BA2A",
    songlistName: "何必从众",
    songlistInfo: "信仰到底是什么呢，就是纵身一跃，就是我们跟神之间一个永远的约定，是舍弃旧的去开始新的生活;信仰就是从今以后，再也不要放开你的手",
    songlistStyle: "",
    songlistPic: "/Resource/image/songListImg/002_1642492685853.jfif",
    userId: "USER-432C2877-9106-4C3D-951E-7EBC0AC0234C",
    block: "create@love@collect"
  },
  {
    songlistId: "LIST-188F3265-75A9-0308-1082-BE570358BA2A",
    songlistName: "何必从众",
    songlistInfo: "信仰到底是什么呢，就是纵身一跃，就是我们跟神之间一个永远的约定，是舍弃旧的去开始新的生活;信仰就是从今以后，再也不要放开你的手",
    songlistStyle: "",
    songlistPic: "/Resource/image/songListImg/002_1642492685853.jfif",
    userId: "USER-432C2877-9106-4C3D-951E-7EBC0AC0234C",
    block: "create@love@collect"
  },
  {
    songlistId: "LIST-188F3265-75A9-0308-1082-BE570358BA2A",
    songlistName: "何必从众",
    songlistInfo: "信仰到底是什么呢，就是纵身一跃，就是我们跟神之间一个永远的约定，是舍弃旧的去开始新的生活;信仰就是从今以后，再也不要放开你的手",
    songlistStyle: "",
    songlistPic: "/Resource/image/songListImg/002_1642492685853.jfif",
    userId: "USER-432C2877-9106-4C3D-951E-7EBC0AC0234C",
    block: "create@love@collect"
  },
  {
    songlistId: "LIST-188F3265-75A9-0308-1082-BE570358BA2A",
    songlistName: "何必从众",
    songlistInfo: "信仰到底是什么呢，就是纵身一跃，就是我们跟神之间一个永远的约定，是舍弃旧的去开始新的生活;信仰就是从今以后，再也不要放开你的手",
    songlistStyle: "",
    songlistPic: "/Resource/image/songListImg/002_1642492685853.jfif",
    userId: "USER-432C2877-9106-4C3D-951E-7EBC0AC0234C",
    block: "create@love@collect"
  },
  {
    songlistId: "LIST-188F3265-75A9-0308-1082-BE570358BA2A",
    songlistName: "何必从众",
    songlistInfo: "信仰到底是什么呢，就是纵身一跃，就是我们跟神之间一个永远的约定，是舍弃旧的去开始新的生活;信仰就是从今以后，再也不要放开你的手",
    songlistStyle: "",
    songlistPic: "/Resource/image/songListImg/002_1642492685853.jfif",
    userId: "USER-432C2877-9106-4C3D-951E-7EBC0AC0234C",
    block: "create@love@collect"
  },
])

/*打开歌单对应页面*/
function openSysPage(sysFlag: string) {
  // ElMessageBox.confirm(
  //     '功能暂未实现!!!',
  //     '提示',
  //     {
  //       confirmButtonText: '确认',
  //       type: 'warning',
  //       center: true,
  //     }
  // )
}

function openPage(songlistId: string) {
  // songListId.value = songlistId
  // router.push("/efairy/main/MusicPavilion/" + songlistId)
}
</script>

<template>
  <div class="menu-block">
    <div class="my-music-title">在线音乐</div>
    <div class="my-music-list">
      <div class="like-music" @click="openSysPage('mylove')"><i class="iconfont">&#xe70c;</i> 我喜欢</div>
      <div class="local-down" @click="openSysPage('down')"><i class="iconfont">&#xe9f7;</i> 本地和下载</div>
      <div class="recent-play" @click="openSysPage('recentplay')"><i class="iconfont">&#xe6c1;</i> 最近播放</div>
      <div class="audition-list" @click="openSysPage('auditionlist')"><i class="iconfont">&#xe82a;</i> 试听列表</div>
      <div class="purchased-music" @click="openSysPage('purchasedmusic')"><i class="iconfont">&#xe70c;</i> 已购音乐
      </div>
    </div>
  </div>
  <div class="menu-block">
    <div class="my-music-title">我的音乐</div>
    <div class="my-music-list">
      <div class="like-music" @click="openSysPage('mylove')"><i class="iconfont">&#xe70c;</i> 我喜欢</div>
      <div class="local-down" @click="openSysPage('down')"><i class="iconfont">&#xe9f7;</i> 本地和下载</div>
      <div class="recent-play" @click="openSysPage('recentplay')"><i class="iconfont">&#xe6c1;</i> 最近播放</div>
      <div class="audition-list" @click="openSysPage('auditionlist')"><i class="iconfont">&#xe82a;</i> 试听列表</div>
      <div class="purchased-music" @click="openSysPage('purchasedmusic')"><i class="iconfont">&#xe70c;</i> 已购音乐
      </div>
    </div>
  </div>
  <div class="menu-block">
    <div class="my-music-title">创建的歌单</div>
    <div class="my-music-list">
      <div :class="playStore.songInfo.songListId==item.songlistId?'love-collect selectNode':'love-collect'"
           v-for="(item,index) in creates"
           @click="openPage(item.songlistId)">
        <span>{{ item.songlistName.length > 6 ? item.songlistName.substring(0, 7) + '...' : item.songlistName }}</span>
        <div
            :class="playStore.songInfo.songListId==item.songlistId&&playStore.songPlayingInfo.isPlay?'play-img':''"></div>
      </div>
    </div>
  </div>
  <div class="menu-block">
    <div class="my-music-title">收藏的歌单</div>
    <div class="my-music-list">
      <div :class="playStore.songInfo.songListId==item.songlistId?'love-collect selectNode':'love-collect'"
           v-for="item in collects"
           @click="openPage(item.songlistId)">
        <span>{{ item.songlistName.length > 6 ? item.songlistName.substring(0, 7) + '...' : item.songlistName }}</span>
        <div
            :class="playStore.songInfo.songListId==item.songlistId&&playStore.songPlayingInfo.isPlay?'play-img':''"></div>
      </div>
    </div>
  </div>
</template>

<style scoped lang="scss">
.menu-block {
  width: 16rem;
  margin: 0 2rem;
  color: var(--text--light);
  //font-weight: bold;
  .my-music-title {
    font-family: 'HarmonyOS Sans';
    font-size: 1.2rem;
    width: 16rem;
    margin: 1rem 0 0.5rem 0;
    line-height: 2rem;
  }

  .my-music-list {
    display: flex;
    flex-direction: column;
    font-size: 1.4rem;

    > div {
      height: 3rem;
      line-height: 3rem;
      width: 16rem;
      margin: 0.5rem 0;
      border-radius: 0.5rem;
      //background: lawngreen;
      i {
        font-weight: lighter;
        margin: 0 1rem;
      }
    }

    .love-collect {

      height: 3rem;
      line-height: 3rem;
      width: 16rem;
      margin-left: 0.5rem;
      border-radius: 0.5rem;
      display: flex;
      flex-direction: row;
      align-items: center;

      span {
        width: 12rem;
        display: block;
        line-height: 3rem;
        margin-left: 1rem;
      }

      .play-img {
        display: block;
        width: 1.6rem;
        height: 0.9rem;
        line-height: 3rem;
        background: url("@/assets/images/wave.gif") repeat;
        background-size: 60%;
      }
    }

    div:hover {
      background: var(--bg--active-rgba);
    }

    .selectNode {
      color: var(--el-color-white);
      background: var(--bg--active-rgba);
    }
  }
}
</style>